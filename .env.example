# =============================================================================
# StableNet PoC Contract Environment Configuration
# =============================================================================
# Copy this file to `.env` and fill in the values.
# 이 파일을 `.env`로 복사하고 값을 채우세요.
# =============================================================================

# -----------------------------------------------------------------------------
# Network Configuration (네트워크 설정)
# -----------------------------------------------------------------------------

# Chain ID (StableNet Testnet = 8283)
CHAIN_ID=8283

# RPC URL (used by TS deploy scripts)
RPC_URL=http://127.0.0.1:8545

# Foundry [rpc_endpoints] (used by foundry.toml)
RPC_URL_LOCAL=http://127.0.0.1:8545
RPC_URL_STABLENET_TESTNET=http://127.0.0.1:8545
RPC_URL_STABLENET=http://127.0.0.1:8545
# RPC_URL_SEPOLIA=https://eth-sepolia.g.alchemy.com/v2/YOUR_KEY

# -----------------------------------------------------------------------------
# Private Keys (프라이빗 키) - 테스트용
# -----------------------------------------------------------------------------
# WARNING: Never commit real private keys! These are test keys only.
# 경고: 실제 프라이빗 키를 커밋하지 마세요! 테스트용 키만 사용하세요.

# 1. Deployer Private Key (배포용)
#    - Used for contract deployment
#    - Must have native coin (KRC/ETH) for gas fees
PRIVATE_KEY_DEPLOYER=

# 2. Bundler Private Key (번들러용)
#    - Used for ERC-4337 Bundler operations
#    - Must have native coin for submitting UserOperations to EntryPoint
PRIVATE_KEY_BUNDLER=

# 3. Test User Private Key - No Native Coin (테스트 유저 - 네이티브 코인 없음)
#    - Used for testing gasless transactions
#    - Should NOT have native coin to test Paymaster sponsorship
#    - May have ERC-20 tokens (USDC) for gas payment testing
PRIVATE_KEY_TEST_NO_NATIVE=

# 4. Paymaster Owner Private Key (페이마스터용)
#    - Used for Paymaster operations (signing, depositing to EntryPoint)
#    - Must have native coin to deposit to EntryPoint for gas sponsorship
PRIVATE_KEY_PAYMASTER=

# Legacy alias (for backward compatibility with existing scripts)
PRIVATE_KEY=${PRIVATE_KEY_DEPLOYER}

# -----------------------------------------------------------------------------
# Admin & Signer Addresses (관리자 및 서명자 주소)
# -----------------------------------------------------------------------------

# Owner/admin for Ownable contracts (defaults to deployer if unset)
ADMIN_ADDRESS=

# Paymaster owner address for deploy-paymasters.ts (defaults to deployer if unset)
# Set this to PRIVATE_KEY_PAYMASTER's address so the paymaster account owns the contracts.
# This address will have onlyOwner permissions (addToken, whitelist, budget, etc.)
OWNER_ADDRESS=

# Signer for VerifyingPaymaster and SponsorPaymaster
# This address signs paymaster approval data off-chain.
# Typically set to the same address as OWNER_ADDRESS (paymaster account).
VERIFYING_SIGNER=

# Fee recipient for bridges, plugins, etc.
FEE_RECIPIENT=

# -----------------------------------------------------------------------------
# ERC-4337 Bundler Configuration (번들러 설정)
# -----------------------------------------------------------------------------

# Bundler RPC endpoint (if using external bundler)
BUNDLER_RPC_URL=http://127.0.0.1:4337

# Bundler beneficiary address (receives gas refunds)
BUNDLER_BENEFICIARY=

# -----------------------------------------------------------------------------
# Bridge Configuration (브릿지 설정)
# -----------------------------------------------------------------------------

# Comma-separated signer addresses for BridgeValidator (min 3 recommended)
BRIDGE_SIGNERS=0x1111111111111111111111111111111111111111,0x2222222222222222222222222222222222222222,0x3333333333333333333333333333333333333333,0x4444444444444444444444444444444444444444,0x5555555555555555555555555555555555555555

# Comma-separated guardian addresses for BridgeGuardian (min 3 recommended)
BRIDGE_GUARDIANS=0xaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa,0xbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb,0xcccccccccccccccccccccccccccccccccccccccc

# Thresholds for validator / guardian approvals
BRIDGE_SIGNER_THRESHOLD=3
BRIDGE_GUARDIAN_THRESHOLD=2

# Optimistic Verifier settings
CHALLENGE_PERIOD=21600
CHALLENGE_BOND=100000000000000000
CHALLENGER_REWARD=50000000000000000

# -----------------------------------------------------------------------------
# DeFi Integration (DeFi 통합)
# -----------------------------------------------------------------------------

# Uniswap V3 addresses (optional, for DEXIntegration and AutoSwapPlugin)
SWAP_ROUTER=0x0000000000000000000000000000000000000000
QUOTER=0x0000000000000000000000000000000000000000

# Paymaster markup (basis points, 1000 = 10%)
MARKUP=1000

# -----------------------------------------------------------------------------
# Contract Address Overrides (컨트랙트 주소 오버라이드)
# -----------------------------------------------------------------------------
# Use these to reference existing deployments instead of deploying new ones

# ENTRYPOINT_ADDRESS=0x...
# PRICE_ORACLE=0x...
# PERMIT2_ADDRESS=0x...
# OWNER_ADDRESS=0x...

# CREATE3 deployment salt for deterministic EntryPoint address
# Same deployer + same salt = same address on every chain
# Default: keccak256("stable-net-entrypoint-v1")
# ENTRYPOINT_DEPLOY_SALT=stable-net-entrypoint-v1

# -----------------------------------------------------------------------------
# Block Explorer & Verification (블록 익스플로러)
# -----------------------------------------------------------------------------

# Foundry native verification settings
# EXPLORER_API_KEY: API key for contract verification (used by foundry.toml etherscan config)
# VERIFIER_URL: Custom verifier API endpoint (required for custom chains)
# --verifier option: etherscan, sourcify
EXPLORER_API_KEY=your_api_key
VERIFIER_URL=https://api.stablenet.io/api

# -----------------------------------------------------------------------------
# Test Configuration (테스트 설정)
# -----------------------------------------------------------------------------

# Initial USDC mint amount for test users (in USDC, 6 decimals)
TEST_USDC_MINT_AMOUNT=10000000000

# Initial ETH/KRC amount for funded test accounts
TEST_NATIVE_AMOUNT=10000000000000000000

# -----------------------------------------------------------------------------
# Logging & Debug (로깅 및 디버그)
# -----------------------------------------------------------------------------

# Enable verbose logging (true/false)
VERBOSE=false

# Foundry verbosity level (1=-v, 2=-vv, 3=-vvv, 4=-vvvv)
FOUNDRY_VERBOSITY=2
